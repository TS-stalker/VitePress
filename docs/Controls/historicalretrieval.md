## 一、概述

历史检索控件用于查询和展示变量的历史数据记录，支持按时间段筛选和多种采集方法，为数据追溯、分析和报表生成提供专业的查询工具。

![图片描述](../images/控件照片/历史检索/1.png)

## 二、使用场景

历史检索控件在以下场景中使用：

### 1.数据分析场景

- 需要对历史数据进行统计分析和规律研究时
- 生产质量数据的周期性分析、设备性能的历史评估
- 数据变化规律的统计研究和趋势预测

## 三、快速开始

1. **设计阶段配置**：

   1. 拖拽历史检索控件到画布并调整位置尺寸
   2. 在"数据"中绑定需要的变量
   3. 设置"边框"样式定义控件外观
   4. 在"显示"配置中启用需要的功能按钮
   5. 配置"表头"和"表体"的显示样式和字体
2. **运行时操作**：

   1. 在设置中，可以在变量列表中选择变量，还可以设置采样方法定义"时间范围"来进行查询
   2. 在选择变量中，可以增加需要的变量以及删除不要的变量。
   3. 执行查询操作，查看历史数据结果
   4. 使用导出功能保存查询结果

**示例：**

### 1.数据分析场景：

1.1 数据分析场景示例

该示例是能耗数据分析。绑定用电量变量，查询每日平均用电量趋势，用于能耗效率评估。如图1-1所示。

![图片描述](../images/控件照片/历史检索/2.gif)

图 1-1

1.2 实际组态教程：

1. 拖拽历史检索控件到画布并调整位置尺寸
2. 可以在数据中自定义表格数据项，同时可以为数据项绑定变量，并定义对应的名称
3. 可以在显示中设置是否显示功能按钮
4. 可以设置表头和表体的行高，背景，字体等，全部设置完成保持运行即可

## 四、属性详解

| 名称                                | 描述                                                                                                                     |
| ----------------------------------- | ------------------------------------------------------------------------------------------------------------------------ |
| 名字                                | 此控件的名称。                                                                                                           |
| X                                   | 控件左侧距画布左侧的距离，单位px。                                                                                       |
| Y                                   | 控件顶部距画布顶部的距离，单位px。                                                                                       |
| W                                   | 控件的宽度，单位px。                                                                                                     |
| H                                   | 控件的高度，单位px。                                                                                                     |
| ![图片描述](../images/旋转角度.png) | 控件的旋转角度                                                                                                           |
| ![图片描述](../images/透明度.png)   | 控件的透明度                                                                                                             |
| 时间范围                            | 按照设置的时间段进行查询。<br />![图片描述](../images/控件照片/历史检索/3.png)                                           |
| 采集方法                            | 设置采集方法<br />![图片描述](../images/控件照片/历史检索/4.png)                                                         |
| 数据                                | 点击数据的绑定按钮，打开数据集绑定变量。只能绑定开启了历史存储的变量<br />![图片描述](../images/控件照片/历史检索/5.png) |
| 显示                                | 设置选择变量按钮、查询按钮、导出按钮、打印按钮的开或关                                                                   |
| 边框                                | 设置边框颜色和边框粗细                                                                                                   |
| 表头                                | 设置表头的背景色、字体型号、字体大小、加粗、倾斜、字体颜色。                                                             |
| 表体                                | 设置表体的背景色、字体型号、字体大小、加粗、倾斜、字体颜色。                                                             |
| 其他                                | 设置报警最多显示条数                                                                                                     |
| 权限                                | 设置控件的权限，控件显示隐藏/启动禁用                                                                                    |
