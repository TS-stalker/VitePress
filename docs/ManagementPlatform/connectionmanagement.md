## 一、概述

连接管理是系统与外部数据源通信的核心枢纽，负责创建和管理与各类协议驱动程序的连接，并在此之上管理变量及其高级属性（报警、归档、事件）。它是数据从现场设备流向组态画面的桥梁。

**协议支持**：目前系统固定支持 **Modbus (TCP)、Siemens S7、OPC UA** 三种主流工业协议。列表不支持用户新增或删除协议。

## 二、连接类型与管理

连接按协议类型组织在文件夹中。每个连接都有状态指示和配置项。

| 连接类型     | 功能与状态指示                                                                                         | 主要配置项                                                                    |
| ------------ | ------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------- |
| 内部变量     | 创建不依赖外部设备的系统内部变量。                                                                     | 定义变量的code、注释、数据类型、初始值、单位、组等属性。                      |
| Modbus (TCP) | 建立与支持Modbus TCP协议设备的连接。•绿色指示灯：连接正常，设备在线。•红色指示灯：连接失败或设备离线。 | 连接名称、连接参数（IP、端口、站号）、轮询频率、所属组、通讯报警设置等。      |
| Siemens S7   | 建立与西门子S7系列PLC的连接。•绿色指示灯：连接正常，设备在线。•红色指示灯：连接失败或设备离线。        | 连接名称、连接参数（IP、机架号、槽号等）轮询频率、所属组、通讯报警设置等。    |
| OPC UA       | 建立与OPC UA服务器的安全连接。•绿色指示灯：连接正常，设备在线。•红色指示灯：连接失败或设备离线。       | 连接名称、连接参数（端点URL、安全策略等）、轮询频率、所属组、通讯报警设置等。 |

### 新建连接流程

1. 在左侧树中**单击**选中目标协议文件夹。
2. 点击 **“连接”。**
3. 输入连接名称，系统会自动生成对应驱动的默认参数。
4. **双击**连接参数进行详细配置，并可**测试连接**以验证配置是否正确。

![图片描述](../images/ManagementPlatform/连接管理1.png)

    图 1-1

![图片描述](../images/ManagementPlatform/连接管理2.png)

    图 1-2

## 三、变量管理

每个连接下可以管理多个变量。系统为每个变量提供了四个管理视图，以实现全方位的数据控制。

| 视图     | 功能描述                           | 关键操作                                                                                                                                                |
| -------- | ---------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 主视图   | 展示变量的核心信息与实时值。       | 内部变量：可编辑部分属性。外部连接变量（来自设备管理）：属性不可编辑，自动同步设备配置。可查看其连接源、实时值、地址、数据类型、关联设备等信息。如图1-3 |
| 报警视图 | 配置和管理变量的报警件。           | 设置上下限报警值、报警类型、报警描述。可对每个变量启用或禁用报警功能。如图1-4                                                                           |
| 归档视图 | 配置变量的历史数据存储策略。       | 双击“归档策略”，设置触发归档的条件（如定时、变化率），系统将按此条件保存变量的历史值变化记录，供历史查询与分析。如图 1-5                                |
| 事件视图 | 配置基于变量值变化触发的事件记录。 | 主要为布尔型变量设置开事件（false→true）和关事件（true→false）。事件发生时，会被系统记录，并可在组态的“事件控件”中查看。如图1-6                         |

通过连接管理，您可以将各类数据源统一接入系统，并对每一个数据点的实时监控、报警通知、历史追溯和事件记录进行精细化的配置。

![图片描述](../images/ManagementPlatform/连接管理3.png)

    图 1-3

![图片描述](../images/ManagementPlatform/连接管理4.png)

    图 1-4

![图片描述](../images/ManagementPlatform/连接管理5.png)

    图 1-5

![图片描述](../images/ManagementPlatform/连接管理6.png)

    图 1-6
